v {xschem version=2.9.9 file_version=1.2 }
G {}
K {}
V {}
S {}
E {}
T {Clock} 1120 -1030 0 0 0.5 0.5 {}
T {Pulse} 1580 -1150 0 0 0.5 0.5 {}
T {Triangle} 1550 -930 0 0 0.5 0.5 {}
T {Sum} 1330 -750 0 0 0.5 0.5 {}
T {Error} 1080 -730 0 0 0.5 0.5 {}
T {PI} 1150 -510 0 0 0.5 0.5 {}
T {Current Sense} 1280 -470 0 0 0.5 0.5 {}
T {SR Latch} 1780 -390 0 0 0.5 0.5 {}
T {CMC Comparator} 1600 -550 0 0 0.5 0.5 {}
T {VMC Comparator} 1880 -710 0 0 0.5 0.5 {}
T {Mode Select Logic} 2260 -690 0 0 0.5 0.5 {}
N 370 -430 370 -420 { lab=vdrain}
N 370 -440 370 -430 { lab=vdrain}
N 570 -440 570 -420 { lab=vout}
N 570 -360 570 -340 { lab=#net1}
N 570 -330 570 -260 { lab=GND}
N 210 -440 230 -440 { lab=VDD}
N 560 -440 670 -440 { lab=vout}
N 630 -360 630 -340 { lab=vfb}
N 630 -440 630 -420 { lab=vout}
N 630 -350 690 -350 { lab=vfb}
N 670 -440 690 -440 { lab=vout}
N 690 -350 790 -350 { lab=vfb}
N 370 -420 370 -410 { lab=vdrain}
N 330 -380 340 -380 { lab=#net2}
N 300 -380 330 -380 { lab=#net2}
N 360 -440 370 -440 { lab=vdrain}
N 630 -270 630 -260 { lab=GND}
N 790 -480 790 -350 { lab=vfb}
N 790 -600 790 -480 { lab=vfb}
N 610 -560 610 -440 { lab=vout}
N 610 -560 630 -560 { lab=vout}
N 690 -560 710 -560 { lab=#net3}
N 770 -560 790 -560 { lab=vfb}
N 370 -440 390 -440 { lab=vdrain}
N 450 -440 510 -440 { lab=vout}
N 490 -300 490 -290 { lab=#net4}
N 490 -280 490 -260 { lab=GND}
N 490 -440 490 -420 { lab=vout}
N 510 -440 530 -440 { lab=vout}
N 530 -440 560 -440 { lab=vout}
N 370 -340 370 -320 { lab=Vsense}
N 330 -330 370 -330 { lab=Vsense}
N 340 -200 930 -200 { lab=Vsense}
N 340 -330 340 -200 { lab=Vsense}
N 930 -200 940 -200 { lab=Vsense}
N 1990 -440 2030 -440 { lab=Vcmc}
N 1990 -500 2030 -500 { lab=Vgateinv}
N 790 -640 790 -600 { lab=vfb}
N 790 -560 840 -560 { lab=vfb}
N 900 -560 940 -560 { lab=Verr}
N 790 -660 940 -660 { lab=vfb}
N 970 -560 970 -500 { lab=Verr}
N 1260 -640 1300 -640 { lab=#net5}
N 1260 -620 1300 -620 { lab=#net6}
N 950 -560 1000 -560 { lab=Verr}
N 940 -560 950 -560 { lab=Verr}
N 940 -620 1030 -620 { lab=#net7}
N 1000 -560 1030 -560 { lab=Verr}
N 940 -660 1030 -660 { lab=vfb}
N 1050 -880 1120 -880 { lab=#net8}
N 1120 -880 1130 -880 { lab=#net8}
N 1050 -940 1130 -940 { lab=#net9}
N 790 -660 790 -640 { lab=vfb}
N 940 -940 1050 -940 { lab=#net9}
N 940 -880 1040 -880 { lab=#net8}
N 1040 -880 1050 -880 { lab=#net8}
N 940 -980 1130 -980 { lab=Venable}
N 970 -500 970 -440 { lab=Verr}
N 980 -440 1030 -440 { lab=Verr}
N 940 -400 1030 -400 { lab=#net10}
N 940 -340 1030 -340 { lab=#net11}
N 1240 -640 1260 -640 { lab=#net5}
N 1290 -960 1340 -960 { lab=#net12}
N 1340 -1040 1340 -960 { lab=#net12}
N 1340 -1040 1350 -1040 { lab=#net12}
N 1340 -960 1340 -850 { lab=#net12}
N 1340 -850 1350 -850 { lab=#net12}
N 1320 -810 1350 -810 { lab=Vmsinv}
N 820 -1080 1350 -1080 { lab=Vms}
N 1440 -1060 1480 -1060 { lab=#net13}
N 720 -790 970 -790 { lab=Vms}
N 720 -780 720 -750 { lab=Vms}
N 1240 -640 1240 -420 { lab=#net5}
N 1260 -620 1260 -400 { lab=#net6}
N 1190 -420 1240 -420 { lab=#net5}
N 1190 -400 1250 -400 { lab=#net6}
N 1250 -400 1260 -400 { lab=#net6}
N 720 -790 720 -780 { lab=Vms}
N 820 -1060 820 -790 { lab=Vms}
N 1130 -790 1320 -790 { lab=Vmsinv}
N 1320 -810 1320 -790 { lab=Vmsinv}
N 510 -1480 510 -1470 { lab=#net14}
N 510 -1460 510 -1440 { lab=#net15}
N 640 -1480 640 -1470 { lab=#net16}
N 640 -1460 640 -1440 { lab=#net17}
N 970 -440 980 -440 { lab=Verr}
N 1280 -380 1280 -200 { lab=Vsense}
N 1280 -380 1300 -380 { lab=Vsense}
N 940 -200 1280 -200 { lab=Vsense}
N 1460 -380 1600 -380 { lab=#net18}
N 1580 -660 1580 -520 { lab=VPI}
N 1460 -660 1500 -660 { lab=VPI}
N 1520 -740 1520 -720 { lab=#net19}
N 1520 -720 1600 -720 { lab=#net19}
N 1740 -740 1740 -720 { lab=#net19}
N 1610 -720 1740 -720 { lab=#net19}
N 1600 -720 1610 -720 { lab=#net19}
N 1680 -800 1740 -800 { lab=#net20}
N 1440 -830 1500 -830 { lab=#net21}
N 1500 -860 1500 -830 { lab=#net21}
N 1500 -860 1520 -860 { lab=#net21}
N 1600 -480 1620 -480 { lab=#net18}
N 1600 -480 1600 -380 { lab=#net18}
N 1760 -460 1830 -460 { lab=#net22}
N 1500 -660 1820 -660 { lab=VPI}
N 1800 -620 1820 -620 { lab=#net23}
N 1800 -860 1800 -620 { lab=#net23}
N 1680 -860 1800 -860 { lab=#net23}
N 1990 -640 2030 -640 { lab=Vvmc}
N 1970 -640 1990 -640 { lab=Vvmc}
N 1960 -640 1970 -640 { lab=Vvmc}
N 2030 -640 2100 -640 { lab=Vvmc}
N 2030 -440 2160 -440 { lab=Vcmc}
N 2100 -460 2100 -440 { lab=Vcmc}
N 2100 -660 2100 -640 { lab=Vvmc}
N 2100 -640 2160 -640 { lab=Vvmc}
N 2250 -620 2300 -620 { lab=#net24}
N 2300 -620 2300 -560 { lab=#net24}
N 2310 -560 2320 -560 { lab=#net24}
N 2300 -560 2310 -560 { lab=#net24}
N 2250 -420 2300 -420 { lab=#net25}
N 2300 -520 2300 -420 { lab=#net25}
N 2300 -520 2320 -520 { lab=#net25}
N 2410 -540 2460 -540 { lab=#net26}
N 2460 -500 2460 -460 { lab=Vgate}
N 2460 -460 2620 -460 { lab=Vgate}
N 2620 -520 2620 -460 { lab=Vgate}
N 2600 -520 2620 -520 { lab=Vgate}
N 2620 -520 2640 -520 { lab=Vgate}
N 820 -1080 820 -1060 { lab=Vms}
N 1580 -520 1580 -440 { lab=VPI}
N 1580 -440 1620 -440 { lab=VPI}
N 560 -980 940 -980 { lab=Venable}
C {devices/code_shown.sym} 70 -1050 0 0 {name=s1 only_toplevel=false value="
.include ~/Documents/MADVLSI_final/schematics/models/power_nfet_model.spice
.include ~/Documents/MADVLSI_final/schematics/models/diode_schottky_model.spice
.options gmin=1e-10
.options abstol=1e-10
.options reltol=.003
.tran 10ns 10ms
.save v(vout)"}
C {madvlsi/gnd.sym} 370 -260 0 0 {name=l5 lab=GND}
C {madvlsi/ammeter1.sym} 370 -350 0 0 {name=VfetI}
C {models/power_nfet.sym} 370 -380 0 0 {name=X1}
C {madvlsi/inductor.sym} 260 -440 3 0 {name=L1
value=20u
m=1}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/models/diode_schottky.sym} 410 -440 3 0 {name=D1}
C {madvlsi/resistor.sym} 570 -390 0 0 {name=R1
value=3.3
m=1}
C {madvlsi/gnd.sym} 570 -260 0 0 {name=l4 lab=GND}
C {madvlsi/ammeter1.sym} 350 -440 3 0 {name=VlI}
C {devices/lab_pin.sym} 370 -440 1 0 {name=l7 sig_type=std_logic lab=vdrain}
C {devices/lab_pin.sym} 690 -440 1 0 {name=l8 sig_type=std_logic lab=vout}
C {madvlsi/ammeter1.sym} 570 -340 0 0 {name=VrI}
C {madvlsi/resistor.sym} 630 -390 0 0 {name=R2
value=725k
m=1}
C {madvlsi/resistor.sym} 630 -310 0 0 {name=R3
value=100k
m=1}
C {madvlsi/gnd.sym} 630 -260 0 0 {name=l10 lab=GND}
C {devices/lab_pin.sym} 790 -600 0 0 {name=l11 sig_type=std_logic lab=vfb}
C {madvlsi/vsource.sym} 490 -730 0 0 {name=Vdd
value="pwl(0 0 10ns 1.8)"}
C {madvlsi/gnd.sym} 490 -700 0 0 {name=l6 lab=GND}
C {madvlsi/vdd.sym} 490 -760 0 0 {name=l12 lab=VDD}
C {madvlsi/vdd.sym} 490 -760 0 0 {name=l1 lab=VDD}
C {madvlsi/vsource.sym} 640 -1410 0 0 {name=Vref
value="pwl(0 0 10ns .4)"}
C {madvlsi/gnd.sym} 640 -1380 0 0 {name=l15 lab=GND}
C {devices/lab_pin.sym} 970 -510 2 0 {name=l29 sig_type=std_logic lab=Verr}
C {madvlsi/tt_models.sym} 200 -800 0 0 {
name=TT_MODELS
only_toplevel=false
value=".option wnflag=1
.lib ~/skywater/skywater-pdk/libraries/sky130_fd_pr_ngspice/latest/models/sky130.lib.spice tt"
}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 1740 -460 0 0 {name=X11}
C {devices/lab_pin.sym} 2640 -520 2 0 {name=l51 sig_type=std_logic lab=Vgate}
C {devices/lab_pin.sym} 1580 -640 0 0 {name=l53 sig_type=std_logic lab=VPI}
C {madvlsi/resistor.sym} 320 -440 3 0 {name=R24
value=.01
m=1}
C {madvlsi/ammeter1.sym} 630 -280 0 0 {name=VfbI}
C {devices/lab_pin.sym} 240 -380 0 0 {name=l77 sig_type=std_logic lab=Vgate}
C {madvlsi/capacitor.sym} 940 -590 2 0 {name=C3
value=30n
m=1}
C {madvlsi/capacitor.sym} 870 -560 1 0 {name=C4
value=220p
m=1}
C {madvlsi/resistor.sym} 660 -560 1 0 {name=R4
value=10k
m=1}
C {madvlsi/capacitor.sym} 740 -560 1 0 {name=C6
value=1n
m=1}
C {madvlsi/resistor.sym} 270 -380 3 0 {name=R5
value=10
m=1}
C {madvlsi/capacitor.sym} 490 -390 2 0 {name=C2
value=100u
m=5}
C {madvlsi/resistor.sym} 490 -330 0 0 {name=R6
value=.006
m=1}
C {madvlsi/gnd.sym} 490 -260 0 0 {name=l9 lab=GND}
C {madvlsi/ammeter1.sym} 490 -290 0 0 {name=VC1}
C {madvlsi/resistor.sym} 370 -290 0 0 {name=R15
value=.01
m=1}
C {devices/lab_pin.sym} 330 -330 0 0 {name=l2 sig_type=std_logic lab=Vsense}
C {srlatch.sym} 1790 -340 0 0 {name=X5}
C {devices/lab_pin.sym} 2030 -500 1 0 {name=l25 sig_type=std_logic lab=Vgateinv}
C {devices/lab_pin.sym} 1830 -480 0 0 {name=l26 sig_type=std_logic lab=Vpulse}
C {madvlsi/vdd.sym} 1910 -560 0 0 {name=l30 lab=VDD}
C {madvlsi/gnd.sym} 1910 -380 0 0 {name=l43 lab=GND}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 2580 -520 0 0 {name=X10}
C {devices/lab_pin.sym} 560 -980 0 0 {name=l44 sig_type=std_logic lab=Venable}
C {madvlsi/gnd.sym} 560 -920 0 0 {name=l54 lab=GND}
C {madvlsi/vsource.sym} 560 -950 0 0 {name=Venable
value="pulse(0 1.8 10ns 10ns 10ns 20ms 100ms)"}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/current_boost.sym} 1260 -220 0 0 {name=X2}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/error_amp.sym} 990 -480 0 0 {name=X3}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/PI_controller.sym} 990 -260 0 0 {name=X4}
C {madvlsi/capacitor.sym} 940 -370 2 0 {name=C1
value=68n
m=1}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/summing_amp.sym} 1260 -500 0 0 {name=X6}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/schmittOscillator.sym} 1090 -800 0 0 {name=X8}
C {madvlsi/gnd.sym} 1210 -840 0 0 {name=l18 lab=GND}
C {madvlsi/vdd.sym} 1210 -1020 0 0 {name=l21 lab=VDD}
C {madvlsi/capacitor.sym} 940 -910 2 0 {name=C5
value=430p
m=1}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/pulse_generator.sym} 1440 -940 0 0 {name=X12}
C {madvlsi/gnd.sym} 1560 -980 0 0 {name=l27 lab=GND}
C {madvlsi/vdd.sym} 1560 -1140 0 0 {name=l28 lab=VDD}
C {devices/lab_pin.sym} 1640 -1060 2 0 {name=l31 sig_type=std_logic lab=Vpulse}
C {madvlsi/vdd.sym} 210 -440 0 0 {name=l3 lab=VDD}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/and.sym} 1310 -960 0 0 {name=X7}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/and.sym} 1310 -730 0 0 {name=X9}
C {madvlsi/gnd.sym} 1410 -1010 0 0 {name=l13 lab=GND}
C {madvlsi/vdd.sym} 1410 -1110 0 0 {name=l14 lab=VDD}
C {madvlsi/vdd.sym} 1410 -880 0 0 {name=l22 lab=VDD}
C {madvlsi/gnd.sym} 1410 -780 0 0 {name=l23 lab=GND}
C {devices/lab_pin.sym} 720 -750 0 0 {name=l33 sig_type=std_logic lab=Vms}
C {madvlsi/gnd.sym} 720 -690 0 0 {name=l34 lab=GND}
C {madvlsi/vsource.sym} 720 -720 0 0 {name=Vmodeselect
value="pwl(0 0 10ns 1.8)"}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/triangle_generator.sym} 1480 -680 0 0 {name=X13}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/inverter.sym} 930 -690 0 0 {name=X14}
C {madvlsi/vdd.sym} 1010 -850 0 0 {name=l35 lab=VDD}
C {madvlsi/gnd.sym} 1010 -730 0 0 {name=l36 lab=GND}
C {madvlsi/vsource.sym} 510 -1410 0 0 {name=V0v8
value="pwl(0 0 10ns .8)"}
C {madvlsi/gnd.sym} 510 -1380 0 0 {name=l39 lab=GND}
C {devices/lab_pin.sym} 510 -1540 2 0 {name=l40 sig_type=std_logic lab=V0v8}
C {madvlsi/ammeter1.sym} 510 -1460 2 0 {name=VrefI}
C {madvlsi/resistor.sym} 510 -1510 0 0 {name=R8
value=.5
m=1}
C {devices/lab_pin.sym} 1520 -880 0 0 {name=l41 sig_type=std_logic lab=V0v8}
C {devices/lab_pin.sym} 640 -1540 2 0 {name=l19 sig_type=std_logic lab=V0v4}
C {madvlsi/ammeter1.sym} 640 -1460 2 0 {name=VrefI1}
C {madvlsi/resistor.sym} 640 -1510 0 0 {name=R7
value=.5
m=1}
C {devices/lab_pin.sym} 1030 -680 0 0 {name=l16 sig_type=std_logic lab=V0v4}
C {devices/lab_pin.sym} 1030 -460 0 0 {name=l17 sig_type=std_logic lab=V0v4}
C {devices/lab_pin.sym} 1300 -700 0 0 {name=l20 sig_type=std_logic lab=V0v4}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 1940 -640 0 0 {name=X15}
C {devices/lab_pin.sym} 2100 -460 2 0 {name=l32 sig_type=std_logic lab=Vcmc}
C {madvlsi/capacitor.sym} 1520 -770 2 0 {name=C7
value=220p
m=1}
C {madvlsi/capacitor.sym} 1740 -770 0 0 {name=C8
value=470p
m=1}
C {devices/lab_pin.sym} 2100 -660 2 0 {name=l37 sig_type=std_logic lab=Vvmc}
C {devices/lab_pin.sym} 1160 -790 3 0 {name=l38 sig_type=std_logic lab=Vmsinv}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/and.sym} 2120 -520 0 0 {name=X16}
C {madvlsi/vdd.sym} 2220 -670 0 0 {name=l42 lab=VDD}
C {madvlsi/gnd.sym} 2220 -570 0 0 {name=l45 lab=GND}
C {devices/lab_pin.sym} 2160 -600 0 0 {name=l46 sig_type=std_logic lab=Vmsinv}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/and.sym} 2120 -320 0 0 {name=X17}
C {madvlsi/vdd.sym} 2220 -470 0 0 {name=l47 lab=VDD}
C {madvlsi/gnd.sym} 2220 -370 0 0 {name=l48 lab=GND}
C {devices/lab_pin.sym} 2160 -400 0 0 {name=l49 sig_type=std_logic lab=Vms}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/xor.sym} 2280 -440 0 0 {name=X18}
C {madvlsi/vdd.sym} 2380 -590 0 0 {name=l50 lab=VDD}
C {madvlsi/gnd.sym} 2380 -490 0 0 {name=l52 lab=GND}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/bandgap_LDS.sym} 1830 -820 0 0 {name=X19}
C {devices/lab_pin.sym} 2030 -910 2 0 {name=l55 sig_type=std_logic lab=V0v4}
C {devices/lab_pin.sym} 2030 -940 2 0 {name=l56 sig_type=std_logic lab=V0v8}
C {devices/lab_pin.sym} 2030 -970 2 0 {name=l57 sig_type=std_logic lab=V1v0}
