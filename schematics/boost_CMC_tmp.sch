v {xschem version=2.9.9 file_version=1.2 }
G {}
K {}
V {}
S {}
E {}
N 370 -430 370 -420 { lab=vdrain}
N 370 -440 370 -430 { lab=vdrain}
N 570 -440 570 -420 { lab=vout}
N 570 -360 570 -340 { lab=#net1}
N 570 -330 570 -260 { lab=GND}
N 210 -440 230 -440 { lab=vin}
N 560 -440 670 -440 { lab=vout}
N 630 -360 630 -340 { lab=vfb}
N 630 -440 630 -420 { lab=vout}
N 630 -350 690 -350 { lab=vfb}
N 670 -440 690 -440 { lab=vout}
N 950 -640 970 -640 { lab=Vref}
N 690 -350 790 -350 { lab=vfb}
N 790 -600 810 -600 { lab=vfb}
N 870 -600 910 -600 { lab=vfb}
N 910 -600 910 -590 { lab=vfb}
N 910 -590 910 -580 { lab=vfb}
N 910 -600 960 -600 { lab=vfb}
N 910 -520 910 -500 { lab=#net2}
N 960 -600 970 -600 { lab=vfb}
N 1130 -620 1130 -500 { lab=Vdiff}
N 1110 -620 1130 -620 { lab=Vdiff}
N 1130 -500 1190 -500 { lab=Vdiff}
N 1170 -460 1190 -460 { lab=#net3}
N 1170 -460 1170 -380 { lab=#net3}
N 1170 -380 1350 -380 { lab=#net3}
N 1350 -480 1350 -380 { lab=#net3}
N 1330 -480 1350 -480 { lab=#net3}
N 1130 -690 1130 -620 { lab=Vdiff}
N 1130 -700 1130 -690 { lab=Vdiff}
N 1350 -480 1390 -480 { lab=#net3}
N 1450 -480 1490 -480 { lab=Vp}
N 1490 -480 1490 -460 { lab=Vp}
N 1490 -400 1490 -380 { lab=Vref}
N 1350 -680 1370 -680 { lab=Vdiff}
N 1430 -680 1470 -680 { lab=Vdis}
N 1450 -680 1450 -600 { lab=Vdis}
N 1450 -600 1510 -600 { lab=Vdis}
N 1500 -540 1510 -540 { lab=Vdis}
N 1490 -540 1500 -540 { lab=Vdis}
N 1490 -600 1490 -540 { lab=Vdis}
N 1570 -540 1590 -540 { lab=Vint}
N 1590 -600 1590 -540 { lab=Vint}
N 1570 -600 1590 -600 { lab=Vint}
N 1590 -600 1650 -600 { lab=Vint}
N 1650 -700 1650 -600 { lab=Vint}
N 1610 -700 1650 -700 { lab=Vint}
N 1410 -720 1430 -720 { lab=Vref}
N 1430 -720 1470 -720 { lab=Vref}
N 1730 -700 1750 -700 { lab=Vint}
N 1810 -700 1820 -700 { lab=#net4}
N 1820 -700 1830 -700 { lab=#net4}
N 1820 -700 1820 -630 { lab=#net4}
N 1820 -630 1870 -630 { lab=#net4}
N 1930 -630 2010 -630 { lab=Vi}
N 2010 -720 2010 -630 { lab=Vi}
N 1970 -720 2010 -720 { lab=Vi}
N 2010 -720 2030 -720 { lab=Vi}
N 1760 -740 1790 -740 { lab=Vref}
N 1790 -740 1830 -740 { lab=Vref}
N 1650 -700 1670 -700 { lab=Vint}
N 1810 -500 1850 -500 { lab=#net5}
N 1810 -460 1830 -460 { lab=#net5}
N 1830 -500 1830 -460 { lab=#net5}
N 1850 -500 1870 -500 { lab=#net5}
N 1490 -480 1570 -480 { lab=Vp}
N 1550 -440 1570 -440 { lab=#net6}
N 1550 -440 1550 -360 { lab=#net6}
N 1550 -360 1730 -360 { lab=#net6}
N 1730 -460 1730 -360 { lab=#net6}
N 1710 -460 1730 -460 { lab=#net6}
N 1730 -460 1750 -460 { lab=#net6}
N 1750 -580 1750 -500 { lab=Vi}
N 1850 -460 1870 -460 { lab=#net7}
N 1850 -460 1850 -440 { lab=#net7}
N 320 -790 320 -780 { lab=#net8}
N 320 -770 320 -750 { lab=#net9}
N 370 -420 370 -410 { lab=vdrain}
N 330 -380 340 -380 { lab=#net10}
N 300 -380 330 -380 { lab=#net10}
N 360 -440 370 -440 { lab=vdrain}
N 630 -270 630 -260 { lab=GND}
N 790 -480 790 -350 { lab=vfb}
N 2030 -480 2030 -460 { lab=VPI}
N 2030 -300 2030 -280 { lab=Vref}
N 1850 -440 1850 -380 { lab=#net7}
N 1850 -380 2030 -380 { lab=#net7}
N 2030 -400 2030 -380 { lab=#net7}
N 2030 -380 2030 -360 { lab=#net7}
N 1670 -700 1730 -700 { lab=Vint}
N 810 -600 870 -600 { lab=vfb}
N 910 -500 950 -500 { lab=#net2}
N 1010 -500 1130 -500 { lab=Vdiff}
N 890 -460 950 -460 { lab=vfb}
N 890 -600 890 -460 { lab=vfb}
N 1010 -460 1030 -460 { lab=Vdiff}
N 1030 -500 1030 -460 { lab=Vdiff}
N 790 -600 790 -480 { lab=vfb}
N 610 -560 610 -440 { lab=vout}
N 610 -560 630 -560 { lab=vout}
N 690 -560 710 -560 { lab=#net11}
N 770 -560 790 -560 { lab=vfb}
N 370 -440 390 -440 { lab=vdrain}
N 450 -440 510 -440 { lab=vout}
N 2010 -630 2010 -580 { lab=Vi}
N 1750 -580 2010 -580 { lab=Vi}
N 1130 -680 1350 -680 { lab=Vdiff}
N 490 -300 490 -290 { lab=#net12}
N 490 -280 490 -260 { lab=GND}
N 490 -440 490 -420 { lab=vout}
N 510 -440 530 -440 { lab=vout}
N 530 -440 560 -440 { lab=vout}
N 370 -340 370 -320 { lab=Vsense}
N 330 -330 370 -330 { lab=Vsense}
N 940 -280 940 -200 { lab=Vsense}
N 340 -200 930 -200 { lab=Vsense}
N 340 -330 340 -200 { lab=Vsense}
N 1560 -240 1580 -240 { lab=#net13}
N 930 -200 940 -200 { lab=Vsense}
N 940 -280 1580 -280 { lab=Vsense}
N 1720 -260 1730 -260 { lab=#net14}
N 1560 -160 1740 -160 { lab=#net13}
N 1560 -240 1560 -160 { lab=#net13}
N 1740 -160 1740 -140 { lab=#net13}
N 1740 -180 1740 -160 { lab=#net13}
N 1740 -260 1740 -240 { lab=#net14}
N 1730 -260 1740 -260 { lab=#net14}
N 1740 -260 2120 -260 { lab=#net14}
N 2010 -480 2100 -480 { lab=VPI}
N 2560 -440 2600 -440 { lab=#net15}
N 2560 -500 2600 -500 { lab=Vgateinv}
N 2310 -460 2400 -460 { lab=#net16}
N 2600 -400 2600 -320 { lab=Vgate}
N 2600 -320 2760 -320 { lab=Vgate}
N 2760 -420 2760 -320 { lab=Vgate}
N 2750 -420 2760 -420 { lab=Vgate}
N 2740 -420 2750 -420 { lab=Vgate}
N 2600 -320 2600 -200 { lab=Vgate}
N 2440 -200 2600 -200 { lab=Vgate}
N 2100 -480 2100 -440 { lab=VPI}
N 2100 -440 2170 -440 { lab=VPI}
N 2120 -260 2150 -260 { lab=#net14}
N 2150 -480 2150 -260 { lab=#net14}
N 2150 -480 2170 -480 { lab=#net14}
C {madvlsi/vsource.sym} 130 -850 0 0 {name=Vin
value="pwl(0 0 10ns 1.8)"}
C {devices/code_shown.sym} 770 -910 0 0 {name=s1 only_toplevel=false value="
.include ~/Documents/MADVLSI_final/schematics/models/power_nfet_model.spice
.include ~/Documents/MADVLSI_final/schematics/models/diode_schottky_model.spice
.options gmin=1e-10
.options abstol=1e-10
.options reltol=.003
.tran 1us 20ms
.save all"}
C {madvlsi/gnd.sym} 130 -820 0 0 {name=l3 lab=GND}
C {madvlsi/gnd.sym} 370 -260 0 0 {name=l5 lab=GND}
C {madvlsi/ammeter1.sym} 370 -350 0 0 {name=VfetI}
C {models/power_nfet.sym} 370 -380 0 0 {name=X1}
C {madvlsi/inductor.sym} 260 -440 3 0 {name=L1
value=20u
m=1}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/models/diode_schottky.sym} 410 -440 3 0 {name=D1}
C {madvlsi/resistor.sym} 570 -390 0 0 {name=R1
value=3.3
m=1}
C {madvlsi/gnd.sym} 570 -260 0 0 {name=l4 lab=GND}
C {madvlsi/ammeter1.sym} 350 -440 3 0 {name=VlI}
C {devices/lab_pin.sym} 370 -440 1 0 {name=l7 sig_type=std_logic lab=vdrain}
C {devices/lab_pin.sym} 690 -440 1 0 {name=l8 sig_type=std_logic lab=vout}
C {madvlsi/ammeter1.sym} 570 -340 0 0 {name=VrI}
C {madvlsi/resistor.sym} 630 -390 0 0 {name=R2
value=725k
m=1}
C {madvlsi/resistor.sym} 630 -310 0 0 {name=R3
value=100k
m=1}
C {madvlsi/gnd.sym} 630 -260 0 0 {name=l10 lab=GND}
C {devices/lab_pin.sym} 790 -600 0 0 {name=l11 sig_type=std_logic lab=vfb}
C {madvlsi/vsource.sym} 130 -720 0 0 {name=Vdd
value="pwl(0 0 10ns 1.8)"}
C {madvlsi/gnd.sym} 130 -690 0 0 {name=l6 lab=GND}
C {madvlsi/vdd.sym} 130 -750 0 0 {name=l12 lab=VDD}
C {madvlsi/vdd.sym} 130 -750 0 0 {name=l1 lab=VDD}
C {devices/lab_pin.sym} 130 -880 0 0 {name=l13 sig_type=std_logic lab=vin}
C {devices/lab_pin.sym} 210 -440 0 0 {name=l14 sig_type=std_logic lab=vin}
C {madvlsi/vsource.sym} 320 -720 0 0 {name=Vref
value="pwl(0 0 10ns .4)"}
C {madvlsi/gnd.sym} 320 -690 0 0 {name=l15 lab=GND}
C {devices/lab_pin.sym} 320 -850 2 0 {name=l19 sig_type=std_logic lab=Vref}
C {devices/lab_pin.sym} 950 -640 0 0 {name=l20 sig_type=std_logic lab=Vref}
C {madvlsi/resistor.sym} 910 -550 0 0 {name=R7
value=50k
m=1}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 1090 -620 0 0 {name=X3}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 1310 -480 0 0 {name=X4}
C {madvlsi/resistor.sym} 1420 -480 1 0 {name=R8
value=10k
m=1}
C {madvlsi/resistor.sym} 1490 -430 2 0 {name=R9
value=10k
m=1}
C {devices/lab_pin.sym} 1490 -480 1 0 {name=l28 sig_type=std_logic lab=Vp}
C {devices/lab_pin.sym} 1130 -700 0 0 {name=l29 sig_type=std_logic lab=Vdiff}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 1590 -700 0 0 {name=X6}
C {madvlsi/resistor.sym} 1400 -680 1 0 {name=R10
value=10k
m=1}
C {madvlsi/capacitor.sym} 1540 -600 1 0 {name=C5
value=68n
m=1}
C {madvlsi/resistor.sym} 1540 -540 1 0 {name=R11
value=50k
m=1}
C {devices/lab_pin.sym} 1410 -720 0 0 {name=l33 sig_type=std_logic lab=Vref}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 1950 -720 0 0 {name=X7}
C {devices/lab_pin.sym} 1760 -740 0 0 {name=l34 sig_type=std_logic lab=Vref}
C {madvlsi/resistor.sym} 1780 -700 1 0 {name=R13
value=10k
m=1}
C {madvlsi/resistor.sym} 1900 -630 1 0 {name=R14
value=50k
m=1}
C {devices/lab_pin.sym} 2030 -720 2 0 {name=l35 sig_type=std_logic lab=Vi}
C {madvlsi/vdd.sym} 1900 -770 0 0 {name=l36 lab=VDD}
C {madvlsi/gnd.sym} 1900 -670 0 0 {name=l37 lab=GND}
C {devices/lab_pin.sym} 1650 -600 2 0 {name=l38 sig_type=std_logic lab=Vint}
C {madvlsi/tt_models.sym} 110 -620 0 0 {
name=TT_MODELS
only_toplevel=false
value=".option wnflag=1
.lib ~/skywater/skywater-pdk/libraries/sky130_fd_pr_ngspice/latest/models/sky130.lib.spice tt"
}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 1990 -480 0 0 {name=X8}
C {madvlsi/resistor.sym} 1780 -500 3 0 {name=R16
value=10k
m=1}
C {madvlsi/resistor.sym} 1780 -460 1 0 {name=R17
value=10k
m=1}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 1690 -460 0 0 {name=X9}
C {madvlsi/resistor.sym} 2030 -330 0 0 {name=R19
value=10k
m=1}
C {devices/lab_pin.sym} 2030 -280 0 0 {name=l45 sig_type=std_logic lab=Vref}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 2290 -460 0 0 {name=X11}
C {devices/lab_pin.sym} 550 -760 2 0 {name=l48 sig_type=std_logic lab=Vpulse}
C {madvlsi/gnd.sym} 550 -700 0 0 {name=l49 lab=GND}
C {devices/lab_pin.sym} 2440 -200 0 0 {name=l51 sig_type=std_logic lab=Vgate}
C {madvlsi/vsource.sym} 550 -730 0 0 {name=Vpulse
value="pulse(0 1.8 100us 1ns 1ns 12ns 5us)"}
C {devices/lab_pin.sym} 2100 -480 1 0 {name=l53 sig_type=std_logic lab=VPI}
C {madvlsi/ammeter1.sym} 320 -770 2 0 {name=VrefI}
C {madvlsi/resistor.sym} 320 -440 3 0 {name=R24
value=.01
m=1}
C {madvlsi/ammeter1.sym} 630 -280 0 0 {name=VfbI}
C {devices/lab_pin.sym} 1490 -380 0 0 {name=l27 sig_type=std_logic lab=Vref}
C {madvlsi/resistor.sym} 320 -820 0 0 {name=R20
value=.5
m=1}
C {madvlsi/resistor.sym} 2030 -430 0 0 {name=R12
value=10k
m=1}
C {devices/lab_pin.sym} 1450 -600 0 0 {name=l78 sig_type=std_logic lab=Vdis}
C {devices/lab_pin.sym} 240 -380 0 0 {name=l77 sig_type=std_logic lab=Vgate}
C {madvlsi/capacitor.sym} 980 -500 3 0 {name=C3
value=30n
m=1}
C {madvlsi/capacitor.sym} 980 -460 1 0 {name=C4
value=220p
m=1}
C {madvlsi/resistor.sym} 660 -560 1 0 {name=R4
value=10k
m=1}
C {madvlsi/capacitor.sym} 740 -560 1 0 {name=C6
value=1n
m=1}
C {madvlsi/resistor.sym} 270 -380 3 0 {name=R5
value=10
m=1}
C {madvlsi/capacitor.sym} 490 -390 2 0 {name=C2
value=100u
m=5}
C {madvlsi/resistor.sym} 490 -330 0 0 {name=R6
value=.006
m=1}
C {madvlsi/gnd.sym} 490 -260 0 0 {name=l9 lab=GND}
C {madvlsi/ammeter1.sym} 490 -290 0 0 {name=VC1}
C {madvlsi/resistor.sym} 370 -290 0 0 {name=R15
value=.01
m=1}
C {devices/lab_pin.sym} 330 -330 0 0 {name=l2 sig_type=std_logic lab=Vsense}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 1700 -260 0 0 {name=X2}
C {madvlsi/resistor.sym} 1740 -110 0 0 {name=R18
value=10k
m=1}
C {madvlsi/resistor.sym} 1740 -210 0 0 {name=R21
value=250k
m=1}
C {madvlsi/gnd.sym} 1740 -80 0 0 {name=l18 lab=GND}
C {srlatch.sym} 2360 -340 0 0 {name=X5}
C {devices/lab_pin.sym} 2600 -500 1 0 {name=l25 sig_type=std_logic lab=Vgateinv}
C {devices/lab_pin.sym} 2400 -480 0 0 {name=l26 sig_type=std_logic lab=Vpulse}
C {madvlsi/vdd.sym} 2480 -560 0 0 {name=l30 lab=VDD}
C {madvlsi/gnd.sym} 2480 -380 0 0 {name=l43 lab=GND}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 2720 -420 0 0 {name=X10}
C {devices/lab_pin.sym} 490 -840 2 0 {name=l44 sig_type=std_logic lab=Venable}
C {madvlsi/gnd.sym} 490 -780 0 0 {name=l54 lab=GND}
C {madvlsi/vsource.sym} 490 -810 0 0 {name=Venable
value="pulse(0 1.8 100us 10ns 10ns 20ms 100ms)"}
C {devices/lab_pin.sym} 2400 -520 0 0 {name=l55 sig_type=std_logic lab=Venable}
