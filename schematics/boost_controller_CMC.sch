v {xschem version=2.9.9 file_version=1.2 }
G {}
K {}
V {}
S {}
E {}
T {Error} 1080 -730 0 0 0.5 0.5 {}
T {PI} 1150 -510 0 0 0.5 0.5 {}
T {Current Sense} 1280 -470 0 0 0.5 0.5 {}
T {SR Latch} 1700 -390 0 0 0.5 0.5 {}
T {CMC Comparator} 1520 -550 0 0 0.5 0.5 {}
T {Mode Select Logic} 2190 -690 0 0 0.5 0.5 {}
T {Sum} 1330 -770 0 0 0.5 0.5 {}
N 370 -430 370 -420 { lab=vdrain}
N 370 -440 370 -430 { lab=vdrain}
N 570 -440 570 -420 { lab=vout}
N 570 -360 570 -340 { lab=#net1}
N 570 -330 570 -260 { lab=GND}
N 210 -440 230 -440 { lab=VDD}
N 560 -440 670 -440 { lab=vout}
N 630 -360 630 -340 { lab=vfb}
N 630 -440 630 -420 { lab=vout}
N 630 -350 690 -350 { lab=vfb}
N 670 -440 690 -440 { lab=vout}
N 690 -350 790 -350 { lab=vfb}
N 370 -420 370 -410 { lab=vdrain}
N 330 -380 340 -380 { lab=#net2}
N 300 -380 330 -380 { lab=#net2}
N 360 -440 370 -440 { lab=vdrain}
N 630 -270 630 -260 { lab=GND}
N 790 -480 790 -350 { lab=vfb}
N 790 -600 790 -480 { lab=vfb}
N 610 -560 610 -440 { lab=vout}
N 610 -560 630 -560 { lab=vout}
N 690 -560 710 -560 { lab=#net3}
N 770 -560 790 -560 { lab=vfb}
N 370 -440 390 -440 { lab=vdrain}
N 450 -440 510 -440 { lab=vout}
N 490 -300 490 -290 { lab=#net4}
N 490 -280 490 -260 { lab=GND}
N 490 -440 490 -420 { lab=vout}
N 510 -440 530 -440 { lab=vout}
N 530 -440 560 -440 { lab=vout}
N 370 -340 370 -320 { lab=Vsense}
N 330 -330 370 -330 { lab=Vsense}
N 340 -200 930 -200 { lab=Vsense}
N 340 -330 340 -200 { lab=Vsense}
N 930 -200 940 -200 { lab=Vsense}
N 1910 -440 1950 -440 { lab=Vcmc}
N 1910 -500 1950 -500 { lab=Vgateinv}
N 790 -640 790 -600 { lab=vfb}
N 790 -560 840 -560 { lab=vfb}
N 900 -560 940 -560 { lab=Verr}
N 790 -660 940 -660 { lab=vfb}
N 970 -560 970 -500 { lab=Verr}
N 1260 -640 1300 -640 { lab=#net5}
N 1260 -620 1300 -620 { lab=#net6}
N 950 -560 1000 -560 { lab=Verr}
N 940 -560 950 -560 { lab=Verr}
N 940 -620 1030 -620 { lab=#net7}
N 1000 -560 1030 -560 { lab=Verr}
N 940 -660 1030 -660 { lab=vfb}
N 790 -660 790 -640 { lab=vfb}
N 970 -500 970 -440 { lab=Verr}
N 980 -440 1030 -440 { lab=Verr}
N 940 -400 1030 -400 { lab=#net8}
N 940 -340 1030 -340 { lab=#net9}
N 1240 -640 1260 -640 { lab=#net5}
N 1240 -640 1240 -420 { lab=#net5}
N 1260 -620 1260 -400 { lab=#net6}
N 1190 -420 1240 -420 { lab=#net5}
N 1190 -400 1250 -400 { lab=#net6}
N 1250 -400 1260 -400 { lab=#net6}
N 1670 -770 1670 -760 { lab=#net10}
N 1670 -750 1670 -730 { lab=#net11}
N 1530 -770 1530 -760 { lab=#net12}
N 1530 -750 1530 -730 { lab=#net13}
N 970 -440 980 -440 { lab=Verr}
N 1280 -380 1280 -200 { lab=Vsense}
N 1280 -380 1300 -380 { lab=Vsense}
N 940 -200 1280 -200 { lab=Vsense}
N 1500 -660 1500 -520 { lab=VPI}
N 1460 -660 1500 -660 { lab=VPI}
N 1520 -480 1540 -480 { lab=#net14}
N 1520 -480 1520 -380 { lab=#net14}
N 1680 -460 1750 -460 { lab=#net15}
N 1950 -460 1950 -440 { lab=Vcmc}
N 2100 -420 2150 -420 { lab=#net16}
N 2150 -520 2150 -420 { lab=#net16}
N 2150 -520 2170 -520 { lab=#net16}
N 2260 -540 2310 -540 { lab=#net17}
N 2310 -500 2310 -460 { lab=Vgate}
N 2310 -460 2470 -460 { lab=Vgate}
N 2470 -520 2470 -460 { lab=Vgate}
N 2450 -520 2470 -520 { lab=Vgate}
N 2470 -520 2490 -520 { lab=Vgate}
N 1500 -520 1500 -440 { lab=VPI}
N 1500 -440 1540 -440 { lab=VPI}
N 2130 -560 2170 -560 { lab=GND}
N 1460 -380 1520 -380 { lab=#net14}
N 1950 -440 2010 -440 { lab=Vcmc}
C {devices/code_shown.sym} 620 -880 0 0 {name=s1 only_toplevel=false value="
.include ~/Documents/MADVLSI_final/schematics/models/power_nfet_model.spice
.include ~/Documents/MADVLSI_final/schematics/models/diode_schottky_model.spice
.options gmin=1e-10
.options abstol=1e-10
.options reltol=.003
.tran 10ns 10ms
.save v(vout)"}
C {madvlsi/gnd.sym} 370 -260 0 0 {name=l5 lab=GND}
C {madvlsi/ammeter1.sym} 370 -350 0 0 {name=VfetI}
C {models/power_nfet.sym} 370 -380 0 0 {name=X1}
C {madvlsi/inductor.sym} 260 -440 3 0 {name=L1
value=20u
m=1}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/models/diode_schottky.sym} 410 -440 3 0 {name=D1}
C {madvlsi/resistor.sym} 570 -390 0 0 {name=R1
value=3.3
m=1}
C {madvlsi/gnd.sym} 570 -260 0 0 {name=l4 lab=GND}
C {madvlsi/ammeter1.sym} 350 -440 3 0 {name=VlI}
C {devices/lab_pin.sym} 370 -440 1 0 {name=l7 sig_type=std_logic lab=vdrain}
C {devices/lab_pin.sym} 690 -440 1 0 {name=l8 sig_type=std_logic lab=vout}
C {madvlsi/ammeter1.sym} 570 -340 0 0 {name=VrI}
C {madvlsi/resistor.sym} 630 -390 0 0 {name=R2
value=725k
m=1}
C {madvlsi/resistor.sym} 630 -310 0 0 {name=R3
value=100k
m=1}
C {madvlsi/gnd.sym} 630 -260 0 0 {name=l10 lab=GND}
C {devices/lab_pin.sym} 790 -600 0 0 {name=l11 sig_type=std_logic lab=vfb}
C {madvlsi/vsource.sym} 490 -540 0 0 {name=Vdd
value="pwl(0 0 10ns 1.8)"}
C {madvlsi/gnd.sym} 490 -510 0 0 {name=l6 lab=GND}
C {madvlsi/vdd.sym} 490 -570 0 0 {name=l12 lab=VDD}
C {madvlsi/vdd.sym} 490 -570 0 0 {name=l1 lab=VDD}
C {madvlsi/vsource.sym} 1530 -700 0 0 {name=Vref
value="pwl(0 0 10ns .4)"}
C {madvlsi/gnd.sym} 1530 -670 0 0 {name=l15 lab=GND}
C {devices/lab_pin.sym} 970 -510 2 0 {name=l29 sig_type=std_logic lab=Verr}
C {madvlsi/tt_models.sym} 200 -610 0 0 {
name=TT_MODELS
only_toplevel=false
value=".option wnflag=1
.lib ~/skywater/skywater-pdk/libraries/sky130_fd_pr_ngspice/latest/models/sky130.lib.spice tt"
}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 1660 -460 0 0 {name=X11}
C {devices/lab_pin.sym} 2490 -520 2 0 {name=l51 sig_type=std_logic lab=Vgate}
C {devices/lab_pin.sym} 1500 -630 0 0 {name=l53 sig_type=std_logic lab=VPI}
C {madvlsi/resistor.sym} 320 -440 3 0 {name=R24
value=.01
m=1}
C {madvlsi/ammeter1.sym} 630 -280 0 0 {name=VfbI}
C {devices/lab_pin.sym} 240 -380 0 0 {name=l77 sig_type=std_logic lab=Vgate}
C {madvlsi/capacitor.sym} 940 -590 2 0 {name=C3
value=30n
m=1}
C {madvlsi/capacitor.sym} 870 -560 1 0 {name=C4
value=220p
m=1}
C {madvlsi/resistor.sym} 660 -560 1 0 {name=R4
value=10k
m=1}
C {madvlsi/capacitor.sym} 740 -560 1 0 {name=C6
value=1n
m=1}
C {madvlsi/resistor.sym} 270 -380 3 0 {name=R5
value=10
m=1}
C {madvlsi/capacitor.sym} 490 -390 2 0 {name=C2
value=100u
m=5}
C {madvlsi/resistor.sym} 490 -330 0 0 {name=R6
value=.006
m=1}
C {madvlsi/gnd.sym} 490 -260 0 0 {name=l9 lab=GND}
C {madvlsi/ammeter1.sym} 490 -290 0 0 {name=VC1}
C {madvlsi/resistor.sym} 370 -290 0 0 {name=R15
value=.01
m=1}
C {devices/lab_pin.sym} 330 -330 0 0 {name=l2 sig_type=std_logic lab=Vsense}
C {srlatch.sym} 1710 -340 0 0 {name=X5}
C {devices/lab_pin.sym} 1950 -500 1 0 {name=l25 sig_type=std_logic lab=Vgateinv}
C {devices/lab_pin.sym} 1750 -480 0 0 {name=l26 sig_type=std_logic lab=Vpulse}
C {madvlsi/gnd.sym} 1830 -380 0 0 {name=l43 lab=GND}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/opamp.sym} 2430 -520 0 0 {name=X10}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/current_boost.sym} 1260 -220 0 0 {name=X2}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/error_amp.sym} 990 -480 0 0 {name=X3}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/PI_controller.sym} 990 -260 0 0 {name=X4}
C {madvlsi/capacitor.sym} 940 -370 2 0 {name=C1
value=68n
m=1}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/summing_amp.sym} 1260 -500 0 0 {name=X6}
C {madvlsi/vdd.sym} 210 -440 0 0 {name=l3 lab=VDD}
C {devices/lab_pin.sym} 2000 -310 0 0 {name=l33 sig_type=std_logic lab=Vms}
C {madvlsi/gnd.sym} 2000 -250 0 0 {name=l34 lab=GND}
C {madvlsi/vsource.sym} 2000 -280 0 0 {name=Vmodeselect
value=1.8}
C {madvlsi/vsource.sym} 1670 -700 0 0 {name=pulse
value="pulse(0 1.8 100us 1ns 1ns 12ns 5us)"}
C {madvlsi/gnd.sym} 1670 -670 0 0 {name=l39 lab=GND}
C {devices/lab_pin.sym} 1670 -830 2 0 {name=l40 sig_type=std_logic lab=Vpulse}
C {madvlsi/ammeter1.sym} 1670 -750 2 0 {name=VrefI}
C {madvlsi/resistor.sym} 1670 -800 0 0 {name=R8
value=.5
m=1}
C {devices/lab_pin.sym} 1530 -830 2 0 {name=l19 sig_type=std_logic lab=V0v4}
C {madvlsi/ammeter1.sym} 1530 -750 2 0 {name=VrefI1}
C {madvlsi/resistor.sym} 1530 -800 0 0 {name=R7
value=.5
m=1}
C {devices/lab_pin.sym} 1030 -680 0 0 {name=l16 sig_type=std_logic lab=V0v4}
C {devices/lab_pin.sym} 1030 -460 0 0 {name=l17 sig_type=std_logic lab=V0v4}
C {devices/lab_pin.sym} 1300 -700 0 0 {name=l20 sig_type=std_logic lab=V0v4}
C {devices/lab_pin.sym} 1950 -460 2 0 {name=l32 sig_type=std_logic lab=Vcmc}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/and.sym} 1970 -320 0 0 {name=X17}
C {madvlsi/vdd.sym} 2070 -470 0 0 {name=l47 lab=VDD}
C {madvlsi/gnd.sym} 2070 -370 0 0 {name=l48 lab=GND}
C {devices/lab_pin.sym} 2010 -400 0 0 {name=l49 sig_type=std_logic lab=Vms}
C {/home/madvlsi/Documents/MADVLSI_final/schematics/xor.sym} 2130 -440 0 0 {name=X18}
C {madvlsi/vdd.sym} 2230 -590 0 0 {name=l50 lab=VDD}
C {madvlsi/gnd.sym} 2230 -490 0 0 {name=l52 lab=GND}
C {madvlsi/vdd.sym} 1830 -560 0 0 {name=l13 lab=VDD}
C {madvlsi/gnd.sym} 2130 -560 0 0 {name=l14 lab=GND}
